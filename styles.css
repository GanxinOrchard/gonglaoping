:root{
  --bg:#F8F5EF; --surface:#ffffff; --text:#111827; --muted:#6b7280;
  --brand:#f59e0b; --brand-600:#d97706; --green:#16a34a; --red:#ef4444;
  --border:#e5e7eb; --shadow:0 12px 28px rgba(0,0,0,.06);
  --cream:#FFF9ED; --mint:#F1FAF3;
}
*,*::before,*::after{box-sizing:border-box}
html,body{width:100%;max-width:100%;overflow-x:hidden}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}
body{margin:0;background:var(--bg);color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC","Helvetica Neue",Arial,sans-serif}
img,video{max-width:100%;height:auto;display:block}
.wrap{max-width:1120px;margin:0 auto;padding:0 16px}
.section{padding:36px 0}
.card{background:var(--surface);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow)}
.grid{display:grid;gap:16px}
.grid-2{grid-template-columns:1fr}
@media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr}}
.grid-4{grid-template-columns:1fr}
@media(min-width:980px){.grid-4{grid-template-columns:repeat(4,1fr)}}
h1,h2,h3{margin:0 0 8px;line-height:1.22}
.muted{color:var(--muted)}
a{color:var(--brand-600);text-decoration:none}

/* Top Reviews */
.top-reviews{position:sticky;top:0;z-index:35;padding:6px 0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,0));backdrop-filter:blur(4px)}
.top-reviews-track{display:flex;gap:8px;align-items:center;overflow:hidden;padding:0 10px}
.top-reviews-track .rv{flex:0 0 auto;display:flex;gap:6px;align-items:center;padding:6px 10px;border-radius:12px;
  background:rgba(255,255,255,.7);border:1px solid rgba(0,0,0,.06)}
.top-reviews-track .name{font-weight:800}
.top-reviews-track .stars{color:#facc15}
.top-reviews-track.anim{animation:rvTicker var(--rv-speed,45s) linear infinite}
.top-reviews-track:hover{animation-play-state:paused}
@keyframes rvTicker{from{transform:translateX(0)}to{transform:translateX(-50%)}}

/* Hero */
.hero{position:relative;min-height:64vh;display:grid;place-items:center;color:#fff;background:#000 center/cover no-repeat;isolation:isolate}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.2) 55%,rgba(0,0,0,0))}
.hero .hero-inner{position:relative;z-index:1;text-align:center;padding:80px 16px}
.brand-badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;font-weight:800;border:1px solid #fff7;border-radius:999px;background:#fff2;backdrop-filter:blur(4px)}
.hero h1{font-size:clamp(24px,5.2vw,42px)}
.hero p{font-size:clamp(13.5px,3.4vw,16px);opacity:.98;margin:4px 0 0}
.cta{display:inline-flex;align-items:center;gap:10px;margin-top:16px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;padding:12px 16px;border-radius:14px;font-weight:800;border:1px solid rgba(0,0,0,.06);
  background:var(--brand);color:#111;box-shadow:0 12px 20px rgba(245,158,11,.28);transition:transform .15s ease, background .15s ease}
.btn:hover{background:var(--brand-600);transform:translateY(-1px)}
.btn-ghost{background:#f9fafb;color:var(--text);box-shadow:none;border:1px solid var(--border)}
.btn-ghost:hover{background:#f3f4f6}
.btn-link{font-weight:800;opacity:.9}
.btn-block{width:100%}

/* Subnav */
.subnav{position:sticky;top:0;z-index:30;background:var(--surface);border-bottom:1px solid var(--border);box-shadow:0 10px 24px rgba(0,0,0,.04)}
.rail{display:flex;gap:8px;align-items:center;padding:10px 4px;overflow:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;scroll-snap-type:x proximity}
.chip{flex:0 0 auto;padding:8px 12px;border-radius:12px;font-weight:800;cursor:pointer;scroll-snap-align:center;background:#FEF3C7;color:#7c2d12;border:1px solid #FDE68A}
.chip:hover{background:#FDE68A}

/* Variety card */
.variety{display:grid;grid-template-columns:1fr;overflow:hidden}
@media(min-width:900px){.variety{grid-template-columns:1.15fr .85fr}}
.variety .media{position:relative}
.variety .media img{width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:18px 18px 0 0}
.variety .body{padding:16px}
.theme-orange .media{background:linear-gradient(135deg,#fff3e0,#ffd597)}
.theme-green .media{background:linear-gradient(135deg,#eefbef,#c6f6c9)}
.theme-cream .media{background:linear-gradient(135deg,#fffaf1,#ffe7b9)}
.ribbon{position:absolute;left:12px;top:12px;padding:6px 10px;border-radius:12px;font-weight:900;font-size:12.5px;background:#ffedd5;border:1px solid #fdba74;color:#7c2d12}
.scale{display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin:8px 0}
.dots{display:inline-grid;grid-auto-flow:column;gap:4px}
.dots i{width:10px;height:10px;border-radius:50%;background:var(--brand)}
.dots i.off{background:#e5e7eb}
.dots i.half{background:linear-gradient(90deg,var(--brand) 50%,#e5e7eb 50%)}
.spec-rail{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
.spec{padding:7px 12px;border-radius:999px;border:1px solid var(--border);background:#f9fafb;cursor:pointer;font-weight:800}
.spec.active{background:#fffbeb;border-color:#fde68a}
.price{font-weight:900;font-size:18px;margin:10px 0}
.var-act{display:flex;gap:10px;align-items:center}
.bullets{margin:8px 0 0;padding-left:1.15em;line-height:1.75}

/* Gallery inside card */
.media-gallery .gallery{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:8px}
.media-gallery img{aspect-ratio:4/3;object-fit:cover;border-radius:14px}

/* Guide */
.guide{padding:16px}
.guide-header{display:flex;align-items:center;justify-content:space-between;gap:10px}
.guide-switch{display:flex;gap:8px}
.pill{padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:800}
.pill.active{background:#fffbeb;border-color:#fde68a}
.guide-body{display:grid;gap:14px;margin-top:8px}
.gauge{display:grid;gap:10px}
.gauge-row{display:grid;grid-template-columns:80px 1fr;gap:10px;align-items:center}
.bar{height:10px;background:#f3f4f6;border-radius:999px;overflow:hidden;position:relative}
.bar i{position:absolute;inset:0;width:0;background:linear-gradient(90deg,#f59e0b,#84cc16)}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip-lg{padding:8px 12px;border-radius:12px;border:1px solid var(--border);background:#fff;font-weight:800}
.audience{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.aud-card{background:#fff;border:1px solid var(--border);border-radius:12px;padding:10px;text-align:center}

/* Timeline */
.timeline-card{padding:16px}
.timeline-wrap{display:grid;gap:8px}
.timeline-svg{width:100%;height:auto;display:block}
.timeline-svg .orange{animation:roll 18s linear infinite}
@keyframes roll{0%{transform:translate(40px,60px)}50%{transform:translate(560px,60px)}100%{transform:translate(1160px,60px)}}
@media (prefers-reduced-motion:reduce){.timeline-svg .orange{animation:none}}
.legend{display:flex;gap:10px;flex-wrap:wrap}
.legend span{background:#fff;border:1px solid var(--border);border-radius:999px;padding:6px 10px}

/* Flow */
.flow-grid .flow{padding:16px;text-align:center}
.flow .ico-cart,.ico-pick,.ico-truck,.ico-camera{width:56px;height:56px;margin:0 auto 8px;border-radius:18px;box-shadow:var(--shadow)}
.ico-cart{background:linear-gradient(135deg,#ffe7ba,#ffd08a)}
.ico-pick{background:linear-gradient(135deg,#d0f1c3,#8ee89f)}
.ico-truck{background:linear-gradient(135deg,#c7eaff,#9fd3ff)}
.ico-camera{background:linear-gradient(135deg,#ffd0e0,#ffa6c2)}

/* Teach */
.teach{padding:16px}
.steps{display:grid;gap:10px}
.step{display:flex;gap:12px;align-items:center;padding:10px;border:1px dashed var(--border);border-radius:12px;background:#fff}
.ico-fridge,.ico-wind,.ico-knife,.ico-peel{width:40px;height:40px;border-radius:12px;box-shadow:var(--shadow)}
.ico-fridge{background:linear-gradient(135deg,#dbeafe,#93c5fd)}
.ico-wind{background:linear-gradient(135deg,#e0f2fe,#7dd3fc)}
.ico-knife{background:linear-gradient(135deg,#fee2e2,#fca5a5)}
.ico-peel{background:linear-gradient(135deg,#fef3c7,#fde68a)}

/* Drawer / cart */
.drawer{position:fixed;right:0;top:0;bottom:0;width:min(480px,96%);background:var(--surface);border-left:1px solid var(--border);
  transform:translateX(105%);transition:.28s;z-index:60;display:flex;flex-direction:column}
.drawer.open{transform:none}
.drawer header{padding:12px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:8px}
.drawer main{padding:12px 14px;overflow:auto;flex:1}
.row-inline{display:flex;gap:8px}
.line{height:1px;background:var(--border);margin:10px 0}
.summary{background:#f9fafb;border:1px dashed var(--border);border-radius:12px;padding:12px;margin:10px 0}
.row-sum{display:grid;grid-template-columns:1fr auto;align-items:center}
.total{font-size:18px}
.cart-list{display:grid;gap:10px}
.cart-item{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;padding:8px;border:1px solid var(--border);border-radius:12px;background:#fff}
.cart-thumb{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:#fff3;border:1px solid #fde68a}
.qty{display:flex;align-items:center;border:1px solid var(--border);border-radius:10px}
.qty button{width:30px;height:30px;border:0;background:#f3f4f6}
.qty span{display:inline-block;width:32px;text-align:center}

/* Cart FAB */
.cart-fab{position:fixed;right:16px;bottom:calc(16px + env(safe-area-inset-bottom));z-index:55;background:#fff;border:1px solid var(--border);
  border-radius:999px;display:flex;gap:8px;align-items:center;padding:10px 12px;box-shadow:var(--shadow);font-weight:900;cursor:pointer}
.cart-fab:hover{transform:translateY(-2px)}
.orange-dot{width:22px;height:22px;display:grid;place-items:center;background:#ffedd5;border:1px solid #f59e0b;border-radius:50%}
.fab-badge{display:inline-block;min-width:22px;height:22px;border-radius:999px;background:#111;color:#fff;font-size:12px;line-height:22px;text-align:center;padding:0 6px}

/* Forms */
.form label{display:grid;gap:6px;margin:8px 0}
.input,select,textarea{width:100%;padding:12px;border:1px solid var(--border);border-radius:10px;background:#fff;font-size:16px}
button{touch-action:manipulation}
.policy{max-height:220px;overflow:auto;border:1px solid var(--border);border-radius:12px;padding:10px;background:#fff}
.policy summary{cursor:pointer}
.agree{display:flex;align-items:center;gap:8px;margin:8px 0}

/* Pay pills */
.paybox .pay-opts{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.pay-pill{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:#fff;cursor:pointer}
.pay-line{font-weight:900}
.pay-bank{font-weight:900}

/* Footer / admin */
.footer{padding:40px 0 64px;text-align:center;color:#6b7280}
.admin-link{margin-top:8px}
.admin-body{padding:10px;text-align:left}

/* Toast */
.toast{position:fixed;right:16px;bottom:calc(72px + env(safe-area-inset-bottom));z-index:70;background:#111;color:#fff;border-radius:12px;padding:10px 14px;opacity:0;pointer-events:none;transform:translateY(8px);transition:.25s}
.toast.show{opacity:1;transform:translateY(0)}
