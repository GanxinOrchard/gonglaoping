/* ===== 全域：可愛風、顏色、排版保護（手機穩定） ===== */
:root{
  --orange:#ff8a00;
  --orange-2:#ffac3d;
  --green:#2fb26e;
  --ink:#1f2937;
  --muted:#6b7280;
  --bg:#fff7ed;
  --card:#ffffff;
  --ring: rgba(255,138,0,.2);
  --shadow:0 10px 30px rgba(0,0,0,.06);
}

html,body{margin:0;padding:0}
body{
  font-family: 'Zen Maru Gothic', system-ui, -apple-system, 'Noto Sans TC', sans-serif;
  color:var(--ink);
  background:#fff;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
img{max-width:100%;display:block}
.container{max-width:1080px;margin:0 auto;padding:0 16px}
.section{padding:48px 0}
.sec-title{font-size:24px; font-weight:900; margin:0 0 16px}

/* 免運公告 */
.free-ship-bar{
  position:sticky; top:0; z-index:1000;
  width:100%; text-align:center;
  background:var(--orange); color:#fff; font-weight:900;
  padding:8px 10px; letter-spacing:.5px;
}

/* 導覽（LOGO＋品牌置中，按鈕單行） */
.site-header{padding:14px 0 10px; border-bottom:1px solid #f3f4f6; background:#fff;}
.brand-center{display:flex; flex-direction:column; align-items:center; gap:6px}
.brand-logo{width:68px;height:68px;object-fit:cover;border-radius:16px;border:1px solid #eee;box-shadow:var(--shadow)}
.brand-name{font-weight:900;letter-spacing:2px}

.top-nav{display:flex; gap:10px; justify-content:center; margin-top:10px; flex-wrap:wrap}
.top-nav.compact .nav-pill{
  padding:8px 12px; border-radius:999px; background:#fff; border:1px solid #eee; font-weight:700;
}
.top-nav .nav-pill:hover{background:#fff7f0; border-color:#ffd8a6}

/* 封面 */
.hero{position:relative; height:52vh; min-height:360px; overflow:hidden; background:#000}
.hero-img{
  position:absolute; inset:0;
  background:url('https://raw.githubusercontent.com/GanxinOrchard/gonglaoping/main/%E5%B1%B1%E6%99%A8%E9%A2%A8%E6%99%AF.jpg') center/cover no-repeat;
  filter:contrast(1.05) saturate(1.05);
}
.hero-copy{
  position:relative; z-index:2; height:100%;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; color:#fff; padding:0 16px;
  text-shadow: 0 2px 14px rgba(0,0,0,.35);
}
.hero-copy h1{font-size:24px; margin:0 0 8px; font-weight:900}
.hero-copy p{margin:0 0 14px; font-weight:700}
.btn{cursor:pointer; border:0; border-radius:12px; padding:12px 16px; font-weight:900}
.btn.cta{background:var(--orange); color:#111; box-shadow:var(--shadow)}
.btn.cta.wide{width:100%}
.btn.ghost{background:#fff; color:#111; border:1px solid #eee}
.btn.green{background:var(--green); color:#fff;}

/* 故事輪播（箭頭不擋字） */
.story-slider{position:relative; background:var(--bg); border-radius:18px; padding:18px 48px; box-shadow:var(--shadow); overflow:hidden}
.story-card{min-height:120px}
.story-card h3{margin:.2em 0 .4em; font-size:18px}
.slider-arrow{position:absolute; top:50%; transform:translateY(-50%); width:34px;height:34px;border-radius:50%;border:0;background:#fff;box-shadow:var(--shadow);font-weight:900}
.slider-arrow.prev{left:8px}
.slider-arrow.next{right:8px}

/* 果實近拍：三張橫輪播（卡片稍大於圖） */
.capsule-slider{position:relative; display:flex; gap:14px; overflow-x:auto; scroll-snap-type:x mandatory; padding:6px}
.cap-card{min-width:280px; max-width:360px; background:#fff; border:1px solid #eee; border-radius:16px; padding:10px; box-shadow:var(--shadow); scroll-snap-align:center}
.cap-card img{aspect-ratio:1/1; object-fit:cover; border-radius:12px}
.cap-card figcaption{margin-top:8px; text-align:center; font-weight:800}

/* 產季時間軸（原軸體風格＋顏色） */
.season-row{display:flex; align-items:center; gap:10px; margin:12px 0}
.season-label{width:60px; font-weight:900}
.season-line{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.month{
  width:42px;height:42px;border-radius:50%;
  display:grid;place-items:center; font-weight:900; color:#fff;
  background:linear-gradient(135deg,#5dbb63,#f97316);
  position:relative;
}
.month.m10,.month.m11{background:linear-gradient(135deg,#4ade80,#f59e0b)}
.month.m12,.month.m1,.month.m2{background:linear-gradient(135deg,#fb923c,#ea580c)}
.month::after{
  content:attr(data-tip); position:absolute; bottom:-28px; left:50%; transform:translateX(-50%);
  white-space:nowrap; font-size:12px; color:var(--muted);
}

/* 商品卡（手機不漂移，內距穩定） */
.grid.goods{display:grid; grid-template-columns:repeat(2,1fr); gap:16px}
@media (max-width: 768px){ .grid.goods{grid-template-columns:1fr} }
.good{background:#fff;border:1px solid #eee;border-radius:16px;overflow:hidden;box-shadow:var(--shadow)}
.good-img{width:100%; aspect-ratio:1/1; object-fit:cover}
.good-body{padding:12px}
.good-title{margin:.2em 0 .4em; font-size:18px; font-weight:900}
.good-desc{margin:0 0 8px; color:var(--muted)}
.good-meta{display:flex; justify-content:space-between; align-items:center; margin:6px 0 10px}
.price{font-weight:900}
.stock b{font-weight:900}

.spec-line{display:flex; align-items:center; gap:8px; flex-wrap:wrap; margin:6px 0 10px}
.spec-label{font-weight:900}
.specs{display:flex; gap:6px}
.spec{padding:6px 10px; border-radius:999px; border:1px solid #eee; background:#fff; font-weight:800}
.spec.active{outline:3px solid var(--ring); border-color:#ffd399}
.diam{margin-left:auto; font-size:13px; color:var(--muted)}
.diam b{color:#111}

.meter-wrap{display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px; margin:6px 0 10px}
.meter{display:flex; align-items:center; gap:6px}
.meter span{font-size:13px; color:#555; width:34px}
.meter i{
  --max:5; --v:3;
  display:block; height:10px; width:100%; border-radius:999px; background:#fee2c5; position:relative; overflow:hidden;
}
.meter i::before{
  content:""; position:absolute; inset:0; width:calc((var(--v)/var(--max))*100%); background:linear-gradient(90deg,#ffbb55,#ff8a00);
}

/* 數量＋加入購物車 */
.qty-line{display:flex; align-items:center; gap:8px; margin:8px 0}
.qbtn{width:36px;height:36px;border-radius:10px;border:1px solid #eee;background:#fff;font-weight:900}
.qty{width:64px;height:36px;border-radius:10px;border:1px solid #eee;text-align:center;font-weight:900;font-size:16px}
.add{width:100%; background:var(--orange); color:#111; border:0; border-radius:12px; padding:12px; font-weight:900; box-shadow:var(--shadow)}

/* 浮動按鈕 */
.float-btn{
  position:fixed; z-index:1100; right:16px; bottom:16px;
  width:54px;height:54px;border-radius:50%;border:0;box-shadow:var(--shadow);background:#fff;font-weight:900
}
.float-btn.up{bottom:86px}
.float-btn.left{left:16px; right:auto; background:var(--orange); color:#111}

/* 面板：購物車 / 評價 */
.panel{
  position:fixed; top:0; bottom:0; width:360px; max-width:92vw; z-index:1200;
  background:#fff; box-shadow:var(--shadow); border-left:1px solid #eee; transform:translateX(100%);
  display:flex; flex-direction:column;
}
.panel.open{transform:translateX(0)}
.panel.reviews{left:0; right:auto; transform:translateX(-100%); background:var(--bg); border-right:1px solid #f2f2f2}
.panel.reviews.open{transform:translateX(0)}
.panel header{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #f3f4f6}
.panel .cart-title{font-weight:900}
.panel .cart-actions{display:flex; gap:8px}

.cart{background:linear-gradient(#ffedd5,#ffd8a6)}
.cart-body{padding:12px; overflow:auto}
.cart-list{list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:10px}
.cart-item{display:grid; grid-template-columns:1fr auto; gap:6px; background:#fff; border:1px solid #eee; border-radius:12px; padding:8px}
.cart-item .rm{border:0;background:#fff;color:#ef4444;font-weight:900}

.sum-line{display:flex; justify-content:space-between; align-items:center; padding:6px 0; border-top:1px dashed #f3f4f6}
.sum-line.total{font-size:18px; font-weight:900}

.form-title{margin:14px 0 6px}
.fgrid{display:grid; grid-template-columns:1fr 1fr; gap:8px}
.fgrid .wide{grid-column:1/-1}
label{display:flex; flex-direction:column; gap:6px; font-size:14px}
input, textarea{
  border:1px solid #e5e7eb; border-radius:12px; padding:10px 12px; font-size:16px; outline:none;
  background:#fff;
}
input:focus, textarea:focus{box-shadow:0 0 0 4px var(--ring)}

.pay-row{display:flex; gap:14px; margin:10px 0}
.radio{display:flex; align-items:center; gap:6px; font-weight:800}
.logi-notice{background:#fff; border:1px dashed #ffd8a6; padding:8px 10px; border-radius:10px; margin:8px 0}

.coupon-line{display:flex; gap:8px; align-items:center; margin:8px 0}
.coupon{flex:1}
.coupon-help{color:var(--muted)}

.submit-hint{margin-top:8px; color:var(--muted); text-align:center}

/* 評價清單（與購物車同高、可滑） */
.reviews-viewport{padding:10px; overflow:auto}
.reviews-list{list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px}
.review{background:#fff; border:1px solid #eee; border-radius:12px; padding:10px}
.rhd{display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; font-weight:900}
.stars{letter-spacing:2px; color:#ffb300}
.reviews-dots{display:flex; gap:6px; justify-content:center; padding:10px}
.reviews-dots button{width:8px;height:8px;border-radius:50%;border:0;background:#ffd8a6}
.reviews-dots button.active{background:#ff8a00}

/* 頁尾 */
.site-footer{padding:28px 16px; text-align:center; background:var(--bg); border-top:1px solid #f3f4f6}
.brand-badge{width:64px;height:64px;object-fit:cover;border-radius:12px;margin:0 auto 8px}
.fn{font-weight:900; margin:0}

/* 手機細節（避免 iOS 輸入放大） */
@supports (-webkit-touch-callout: none){
  input, textarea, select{font-size:16px}
}