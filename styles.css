/* ========== 基礎主題 ========== */
:root{
  --bg:#F8F5EF;
  --surface:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --brand:#f59e0b;
  --brand-600:#d97706;
  --accent:#3F8C45; /* LINE Pay 綠 */
  --red:#ef4444;
  --border:#e5e7eb;
  --shadow:0 12px 28px rgba(0,0,0,.06);
}
*,*::before,*::after{box-sizing:border-box}
html,body{width:100%;max-width:100%;overflow-x:hidden}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}
body{margin:0;background:var(--bg);color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC","Helvetica Neue",Arial,sans-serif}
img{max-width:100%;height:auto;display:block}
a{color:var(--brand-600);text-decoration:none}
.wrap{max-width:1120px;margin:0 auto;padding:0 16px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow)}
.section{padding:36px 0}
.muted{color:var(--muted)}

/* ========== Header ========== */
.site-header{position:sticky;top:0;z-index:40;background:var(--surface);border-bottom:1px solid var(--border)}
.header-inner{display:flex;align-items:center;justify-content:space-between;padding:10px 0}
.brand{display:flex;align-items:center;gap:10px}
.brand-logo{width:40px;height:40px;border-radius:10px;object-fit:contain;object-position:center}
.brand-name{font-weight:900;letter-spacing:.4px}
.hamburger{font-size:20px;border:1px solid var(--border);background:#fff;border-radius:10px;padding:8px 10px;display:none}
.site-nav{display:flex;gap:12px}
.nav-link{padding:8px 10px;border-radius:10px}
.nav-link:hover{background:#F9FAFB}
@media(max-width:880px){
  .hamburger{display:block}
  .site-nav{position:absolute;left:0;right:0;top:56px;background:#fff;border-bottom:1px solid var(--border);display:none;flex-direction:column;padding:10px}
  .site-nav.open{display:flex}
}

/* ========== Hero ========== */
.hero{position:relative;min-height:64vh;display:grid;place-items:center;isolation:isolate}
.hero-bg{position:absolute;inset:0;background:center/cover no-repeat;z-index:-1;filter:contrast(1.02) saturate(1.02)}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.15),rgba(0,0,0,.10) 55%,rgba(0,0,0,0));z-index:-1}
.hero-inner{text-align:center;color:#fff;padding:80px 16px}
.hero-logo img{width:82px;height:82px;border-radius:18px;object-fit:contain;background:#fff7;padding:8px;backdrop-filter:blur(4px);margin:0 auto 8px}
.hero h1{font-size:clamp(24px,5vw,44px);margin:0}
.hero-sub{opacity:.95;margin:6px 0 14px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;border:1px solid rgba(0,0,0,.06);
  padding:12px 16px;border-radius:14px;font-weight:900;background:var(--brand);color:#111;box-shadow:0 12px 20px rgba(245,158,11,.28);
  transition:transform .15s ease, background .15s ease}
.btn:hover{transform:translateY(-1px);background:var(--brand-600)}
.btn-lg{font-size:18px}
.btn-ghost{background:#f9fafb;color:var(--text);box-shadow:none;border:1px solid var(--border)}
.btn-full{width:100%}

/* ========== Story Carousel ========== */
.story{padding:14px}
.story-head h2{margin:0 0 6px}
.story-carousel{position:relative;min-height:120px}
.story-slide{display:none;animation:fade .35s ease}
.story-slide.active{display:block}
@keyframes fade{from{opacity:.3;transform:translateY(4px)}to{opacity:1;transform:none}}
.story-dots{display:flex;gap:6px;margin-top:8px}
.story-dot{width:8px;height:8px;border-radius:999px;background:#e5e7eb;border:0}
.story-dot.active{background:var(--brand)}

/* ========== Floating KPIs ========== */
.floating-kpis{position:fixed;left:10px;bottom:90px;z-index:35;display:grid;gap:8px;opacity:0;transform:translateX(-8px);transition:.25s}
.floating-kpis.show{opacity:1;transform:none}
.kpi-pill{background:#fff;border:1px solid var(--border);border-radius:14px;padding:8px 10px;box-shadow:var(--shadow);font-size:12.5px;line-height:1.45}
.kpi-pill span{color:var(--muted)}

/* ========== Product Cards ========== */
.grid{display:grid;gap:16px}
@media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr}}
.product-media{aspect-ratio:1/1;background:#fff;border-bottom:1px solid var(--border);display:grid;place-items:center}
.product-media img{width:96%;height:96%;object-fit:cover;object-position:center;border-radius:12px}
.product-body{padding:14px}
.product-title{margin:0 0 6px;font-size:20px}
.product-desc{margin:0 0 10px;color:var(--muted)}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip{padding:7px 12px;border-radius:999px;border:1px solid var(--border);background:#f9fafb;font-weight:800;cursor:pointer}
.chip.on{background:#fffbeb;border-color:#fde68a}
.meter{display:flex;gap:10px;align-items:center;margin:8px 0}
.meter .tag{font-size:12px;color:#6b7280}
.meter .dots{display:inline-grid;grid-auto-flow:column;gap:4px}
.meter .dot{width:10px;height:10px;border-radius:50%;background:#e5e7eb}
.meter .dot.on{background:var(--brand)}
.size-line{font-size:12.5px;color:#6b7280;margin-top:2px}
.price-row{display:flex;align-items:center;justify-content:space-between;margin:10px 0 10px}
.price{font-weight:900;font-size:18px}
.inv{font-size:13px;color:#6b7280}

/* ========== Gallery (1:1 scroll-snap) ========== */
.gallery-head{display:flex;align-items:baseline;gap:10px;padding:14px 14px 0}
.gallery-rail{display:grid;grid-auto-flow:column;gap:12px;overflow:auto;padding:14px;scroll-snap-type:x mandatory}
.gallery-rail::-webkit-scrollbar{height:8px}
.gallery-rail::-webkit-scrollbar-thumb{background:#e5e7eB;border-radius:999px}
.g-item{scroll-snap-align:center;border-radius:16px;border:1px solid var(--border);background:#fff;box-shadow:var(--shadow);aspect-ratio:1/1;width:280px;display:grid;place-items:center}
.g-item img, .g-item video{width:100%;height:100%;object-fit:cover;border-radius:16px}

/* ========== Guide / Timeline / Flow / School ========== */
.guide{padding:16px}
.guide-row{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
@media(max-width:780px){.guide-row{grid-template-columns:1fr}}

.timeline-card{padding:16px}
.timeline{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;margin-top:8px}
.month{background:#f9fafb;border:1px solid var(--border);border-radius:12px;padding:12px;text-align:center}
.month b{display:block;font-size:22px}
.month .muted{font-size:12.5px}

.flow{padding:16px}
.flow-circles{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px}
.circle{width:64px;height:64px;border-radius:999px;border:1px solid var(--border);background:#fff;box-shadow:var(--shadow);font-weight:900}
.flow-detail .flow-card{background:#fff;border:1px dashed var(--border);border-radius:12px;padding:12px}

.school{padding:16px}
.school-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
@media(min-width:880px){.school-grid{grid-template-columns:repeat(4,1fr)}}
.school-item{display:flex;gap:10px;align-items:flex-start;background:#fff;border:1px solid var(--border);border-radius:14px;padding:10px}
.school-item .ico{font-size:20px}

/* ========== Reviews 改為小膠囊 ========== */
.reviews{padding:16px}
.rv-rail{display:flex;gap:8px;overflow:auto;padding-top:8px}
.rv-rail .rv{flex:0 0 auto;padding:8px 10px;border-radius:999px;border:1px solid #FDE68A;background:#FEF3C7;color:#7c2d12;font-weight:800}
.rv-rail::-webkit-scrollbar{height:6px}
.rv-rail::-webkit-scrollbar-thumb{background:#e5e7eb;border-radius:999px}

/* ========== FAB 購物車、抽屜 ========== */
.fab{position:fixed;right:16px;bottom:16px;z-index:45;background:var(--brand);color:#111;border:1px solid rgba(0,0,0,.06);
  padding:12px 16px;border-radius:999px;box-shadow:0 12px 18px rgba(245,158,11,.33);display:flex;align-items:center;gap:8px;font-weight:900}
.fab-badge{display:inline-block;min-width:22px;height:22px;border-radius:999px;background:#111;color:#fff;font-size:12px;line-height:22px;text-align:center;padding:0 6px}

.drawer{position:fixed;right:0;top:0;bottom:0;width:min(480px,96%);background:#fff;border-left:1px solid var(--border);transform:translateX(105%);transition:.28s;z-index:60;display:flex;flex-direction:column}
.drawer.open{transform:none}
.drawer-head{padding:12px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.drawer-body{padding:12px 14px;overflow:auto;flex:1}
.drawer-actions{display:flex;gap:8px}
.line{height:1px;background:var(--border);margin:10px 0}
.cart-row{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:8px 0}
.qty{display:flex;align-items:center;border:1px solid var(--border);border-radius:10px}
.qty button{width:30px;height:30px;border:0;background:#f3f4f6}
.qty span{display:inline-block;width:32px;text-align:center}
.summary{background:#f9fafb;border:1px dashed var(--border);border-radius:12px;padding:12px;margin:10px 0}
.ship-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.label{font-weight:800;margin:8px 0 6px}
.row-2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.input,select,textarea{width:100%;padding:12px;border:1px solid var(--border);border-radius:10px;background:#fff;font-size:16px}
.note{font-size:12.5px;color:var(--muted)}
.row2{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:center}
.total{font-size:18px}
.policy{max-height:220px;overflow:auto;padding:12px}
.agree-line{margin:8px 0}

.pay .pay-opt{display:flex;align-items:center;gap:8px;margin:6px 0}
.pay .linepay{border:1px solid #D1FAE5;background:#ECFDF5;border-radius:10px;padding:8px}
.lp-badge{display:inline-block;background:var(--accent);color:#fff;font-weight:900;border-radius:8px;padding:4px 8px}

/* ========== Footer ========== */
.site-footer{padding:36px 0 56px;background:#fff;border-top:1px solid var(--border)}
.footer-grid{display:grid;grid-template-columns:1fr;gap:10px}
@media(min-width:860px){.footer-grid{grid-template-columns:1.2fr .8fr}}
.footer-logo{width:40px;height:40px;border-radius:10px;object-fit:contain;margin-bottom:6px}
.footer-bottom{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:12px}

/* ========== Toast ========== */
.toast{position:fixed;right:16px;bottom:82px;z-index:70;background:#111;color:#fff;border-radius:12px;padding:10px 14px;opacity:0;pointer-events:none;transform:translateY(6px);transition:.25s}
.toast.show{opacity:1;transform:none}
