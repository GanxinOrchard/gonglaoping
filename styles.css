/* 字體與基色 */
:root{
  --orange:#ff8a00;
  --orange-2:#ffb347;
  --green:#17c964;
  --ink:#1f2937;
  --muted:#6b7280;
  --bg:#fff8ef;
  --white:#fff;
  --panel:#ffefe0;
  --bar:#ffd9a6;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body.theme-orange{
  font-family:'Noto Sans TC',system-ui,-apple-system,Segoe UI,Roboto,'PingFang TC','Microsoft JhengHei',sans-serif;
  background:var(--bg);
  color:var(--ink);
}
.free-ship-banner{
  background:var(--orange); color:#111; text-align:center; padding:10px 12px;
  font-weight:800; letter-spacing:.5px;
}
.site-header{display:flex;flex-direction:column;align-items:center;gap:6px;padding:16px 12px}
.brand-logo{width:84px;height:84px;border-radius:18px;object-fit:cover;border:2px solid #fff;box-shadow:0 6px 14px rgba(0,0,0,.06)}
.brand-name{font-family:'Baloo 2', cursive; font-size:28px; font-weight:800; letter-spacing:1px}

/* 頂部導引 Pills */
.nav-pills{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;padding:6px 10px 14px}
.nav-pills .pill{
  display:inline-flex;align-items:center;justify-content:center;
  padding:8px 12px;border-radius:999px;background:#fff; color:#222;
  border:1px solid #ffd0a0; text-decoration:none; font-weight:700
}
.nav-pills .pill:active{transform:scale(.98)}

/* Hero 單圖＋覆蓋文案 */
.hero{position:relative; width:100%; max-width:1200px; margin:0 auto 8px; overflow:hidden}
.hero-img{width:100%; height:clamp(260px, 40vw, 520px); object-fit:contain; display:block; background:#fff}
.hero-overlay{
  position:absolute; inset:auto 0 12px 0; display:flex; flex-direction:column; align-items:center; text-align:center; gap:6px;
  padding:0 12px;
}
.hero-overlay h1{font-family:'Baloo 2', cursive; font-size:clamp(22px,4vw,40px); margin:0}
.hero-overlay p{margin:0;color:#333; font-weight:700}
.btn-cta{
  margin-top:6px; background:#111; color:#fff; text-decoration:none; padding:10px 16px; border-radius:12px; font-weight:800
}

/* 區塊標題 */
.section-wrap{max-width:1200px;margin:0 auto;padding:22px 14px}
.sec-title{
  font-family:'Baloo 2', cursive; font-weight:800; font-size:24px; margin:0 0 12px 0
}

/* 故事輪播 */
.carousel{position:relative}
.carousel .c-prev,.carousel .c-next{
  position:absolute; top:50%; transform:translateY(-50%); background:#fff; border:1px solid #ffd0a0; width:34px;height:34px;border-radius:50%;
  font-size:18px; line-height:34px; text-align:center; cursor:pointer; z-index:2
}
.carousel .c-prev{left:-6px}
.carousel .c-next{right:-6px}
.carousel .c-track{display:flex; gap:12px; overflow:hidden; scroll-behavior:smooth}
.story-card{
  min-width:calc(100% - 40px); background:#fff; border:1px solid #ffd9a6; border-radius:14px; padding:14px;
}
.story-card h3{font-family:'Baloo 2', cursive;margin:6px 0 8px}
.story-card p{margin:0 0 6px}
.story-tag{display:inline-block;background:#fff2cc;border:1px dashed #f6b73c;border-radius:999px;padding:6px 10px;font-weight:800}

/* 浮動：左＝好評；右＝購物車/查單 */
.floating-right{position:fixed; right:12px; bottom:18px; display:flex; flex-direction:column; gap:8px; z-index:50}
.float-icon{width:48px;height:48px;border-radius:50%;border:none;cursor:pointer;background:#fff;border:1px solid #ffd0a0;font-size:22px}
.float-icon.cart{background:#111;color:#fff}
.floating-reviews-btn{
  position:fixed; left:12px; bottom:18px; z-index:50; background:#ffb347; border:1px solid #ff9e2d; color:#111;
  border-radius:999px; padding:10px 14px; font-weight:900; cursor:pointer
}
/* 左側評論面板 */
.reviews-panel{
  position:fixed; left:12px; bottom:74px; width:min(420px, 92vw); height:min(70vh, 560px);
  background:var(--panel); border:2px solid #ffc78a; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.12);
  transform:translateX(-110%); transition:transform .28s ease; z-index:49; display:flex; flex-direction:column
}
.reviews-panel.open{transform:translateX(0)}
.panel-head{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px dashed #ffb347}
.panel-title{font-family:'Baloo 2';font-weight:800}
.panel-close{background:#fff;border:1px solid #ffd0a0;border-radius:8px;padding:6px 10px;cursor:pointer}
.reviews-carousel{flex:1; overflow:hidden; padding:12px}
.review-card{min-width:100%; display:flex; flex-direction:column; gap:6px; background:#fff; border:1px solid #ffd9a6; border-radius:12px; padding:12px}
.review-meta{font-size:12px;color:#666;display:flex;gap:8px;justify-content:space-between}
.review-text{line-height:1.6}
.reviews-dots{display:flex;gap:6px;justify-content:center;padding:8px}
.reviews-dots button{width:8px;height:8px;border-radius:50%;border:none;background:#ffd9a6}
.reviews-dots button.on{background:#ff8a00}

/* 近拍：1:1 容器且完整顯示 */
.carousel.square .c-track{gap:10px}
.square-card{min-width:calc(100% - 50px); background:#fff; border:1px solid #ffd9a6; border-radius:14px; overflow:hidden}
.square-card img{width:100%; aspect-ratio:1/1; object-fit:contain; background:#fff}
.square-card figcaption{padding:8px 10px;color:#444;font-size:14px}

/* 產季時間軸（小橘子） */
.season-rows{display:flex;flex-direction:column;gap:12px}
.season-row{display:flex;align-items:flex-start;gap:8px}
.season-label{font-weight:900; min-width:50px}
.season-line{display:grid; grid-template-columns:repeat(12, 1fr); gap:6px; width:100%}
.month-dot{display:flex;flex-direction:column;align-items:center;gap:6px}
.month-dot .fruit{width:26px;height:26px;border-radius:50%;border:2px solid #ffcf99;background:#9cd16d}
.month-dot .txt{font-size:12px;text-align:center}

/* 商品卡 */
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px}
.prod-card{display:grid;grid-template-columns:160px 1fr; gap:12px; padding:12px; background:#fff; border:1px solid #ffd9a6; border-radius:14px}
.prod-media{display:flex;align-items:center;justify-content:center;background:#fff;border-radius:12px;overflow:hidden}
.prod-media img{width:100%;height:100%;object-fit:contain}
.prod-title{font-family:'Baloo 2'; margin:2px 0 4px}
.prod-desc{margin:0 0 8px;color:#444}
.spec-tabs{display:flex;gap:8px;margin:6px 0 8px}
.spec-tabs .spec{padding:6px 10px;border-radius:999px;border:1px solid #ffd0a0;background:#fff;cursor:pointer;font-weight:800}
.spec-tabs .spec.on{background:#111;color:#fff;border-color:#111}
.meter-wrap{display:flex;flex-direction:column;gap:8px}
.meter{display:flex;align-items:center;gap:8px}
.meter span{min-width:38px;font-size:14px}
.meter .bar{flex:1;height:10px;border-radius:10px;background:#ffe7c5;overflow:hidden}
.meter .bar i{display:block;height:100%;background:linear-gradient(90deg,#ffd399,#ff8a00)}
.size-note{font-size:13px;color:#555}
.price-row{display:flex;align-items:center;justify-content:space-between;margin-top:6px}
.price{font-size:18px}
.stock{font-size:12px;color:#666}
.qty-row{display:flex;align-items:center;gap:8px;margin:8px 0}
.qty-row label{font-size:13px;color:#444}
.qty-box{display:flex;align-items:center;border:1px solid #ffd0a0;border-radius:8px;overflow:hidden}
.qty-box input{width:54px;text-align:center;border:none;padding:8px 0;font-size:16px}
.qty-box button{width:32px;height:34px;border:none;background:#fff;cursor:pointer}
.btn-buy{width:100%;padding:10px 14px;border:none;border-radius:12px;background:#111;color:#fff;font-weight:900}

/* 購物車抽屜 */
.cart-drawer{position:fixed; right:0; top:0; height:100vh; width:min(420px, 96vw); background:var(--orange); color:#111;
  transform:translateX(110%); transition:transform .28s ease; z-index:60; display:flex; flex-direction:column; border-left:3px solid #ffa64d}
.cart-drawer.open{transform:translateX(0)}
.cart-head{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:2px dashed #ffd9a6}
.cart-title{font-family:'Baloo 2';font-weight:800}
.icon-green{background:#17c964;color:#111;border:none;border-radius:10px;padding:6px 10px;margin-left:6px;cursor:pointer}
.cart-body{flex:1; overflow:auto; padding:10px 12px; display:flex;flex-direction:column; gap:12px}
.cart-item{display:grid;grid-template-columns:72px 1fr auto; gap:8px; background:#fff; border-radius:12px; padding:8px}
.cart-item img{width:72px;height:72px;object-fit:contain}
.ci-title{font-weight:900}
.ci-meta{font-size:12px;color:#666}
.ci-qty{display:flex;align-items:center;gap:6px}
.ci-qty input{width:50px;text-align:center;border:1px solid #ddd;border-radius:6px;padding:6px 0;font-size:16px}
.ci-del{background:#fff;border:1px solid #ffd0a0;border-radius:8px;padding:6px 10px;cursor:pointer}
.cart-ship-note{background:#fff4e6;border:1px dashed #ffb347;padding:8px;border-radius:10px;font-size:13px}
.cart-discount .coupon-row{display:flex;gap:8px}
.cart-discount input{flex:1;border:1px solid #ffd0a0;border-radius:8px;padding:10px;font-size:16px}
.cart-discount .btn-go{border:none;background:#111;color:#fff;border-radius:10px;padding:10px 12px;font-weight:900}
.coupon-msg{font-size:12px;color:#111}
.cart-form label{display:flex;flex-direction:column;gap:6px;margin-top:8px}
.cart-form input,.cart-form select,.cart-form textarea{
  border:1px solid #ffd0a0;border-radius:8px;padding:10px;font-size:16px; background:#fff
}
.cart-policy{background:#fff;border-radius:10px;border:1px solid #ffd0a0;padding:8px}
.cart-policy summary{cursor:pointer;font-weight:900}
.cart-policy ul{margin:6px 0 8px 18px}
.cart-policy .agree{display:flex;align-items:center;gap:8px;font-size:14px}
.cart-summary{background:#fff;border-radius:12px;padding:10px;border:1px solid #ffd0a0}
.cart-summary .row{display:flex;justify-content:space-between;padding:6px 0}
.cart-summary .total{font-weight:900}
.cart-summary .discount{color:#c00}
.cart-pay{display:flex;flex-direction:column;gap:8px}
.pay-opt{display:inline-flex;align-items:center;gap:6px}
.btn-checkout{border:none;background:#111;color:#fff;border-radius:12px;padding:12px 14px;font-weight:900}
.btn-checkout[disabled]{opacity:.5}
.pay-tips{font-size:12px}

/* 查訂單小窗 */
.order-search-pop{position:fixed; right:70px; bottom:18px; width:min(320px, 90vw); background:#fff; border:1px solid #ffd0a0;border-radius:12px;
  box-shadow:0 10px 24px rgba(0,0,0,.12); transform:translateY(120%); transition:transform .28s ease; z-index:51}
.order-search-pop.open{transform:translateY(0)}
.osp-head{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-bottom:1px dashed #ffd0a0}
.osp-body{padding:10px 12px; display:flex; gap:8px; align-items:flex-end}
.osp-body input{flex:1;border:1px solid #ffd0a0;border-radius:8px;padding:10px;font-size:16px}
.osp-body .btn-go{border:none;background:#111;color:#fff;border-radius:10px;padding:10px 12px;font-weight:900}

/* Toast */
.toast{position:fixed;left:50%;bottom:16px;transform:translateX(-50%) translateY(120%);background:#111;color:#fff;border-radius:10px;padding:10px 14px;z-index:70;transition:transform .25s ease}
.toast.show{transform:translateX(-50%) translateY(0)}

/* 頁尾 */
.site-footer{margin-top:20px;padding:18px 12px;background:#fff1e3;border-top:2px solid #ffd0a0}
.footer-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:10px}
.f-brand{display:flex;align-items:center;gap:10px}
.f-brand img{width:42px;height:42px;border-radius:10px;object-fit:cover}
.fn{font-family:'Baloo 2';font-weight:800}
.ft{font-size:12px;color:#555}
.back-top{margin-top:8px;border:none;background:#111;color:#fff;border-radius:10px;padding:8px 12px;font-weight:900}

/* 手機優化 */
@media (max-width: 680px){
  .prod-card{grid-template-columns:1fr}
  .story-card{min-width:calc(100% - 34px)}
  .carousel .c-prev{left:-2px}.carousel .c-next{right:-2px}
}